{"ast":null,"code":"import _defineProperty from \"D:\\\\Documenti\\\\#Master\\\\Project Straz\\\\waifu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\Documenti\\\\#Master\\\\Project Straz\\\\waifu\\\\src\\\\component\\\\Tot.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Waifu from './Waifu';\nimport Form from './Form';\nimport waifuRepository from './waifuRepository';\nimport speakApi from './speakApi';\n\nclass Tot extends Component {\n  constructor(props) {\n    super(props);\n\n    this.submit = e => {\n      e.preventDefault();\n\n      if (this.state.currentWaifu.name) {\n        speakApi.speak(\"Stai per inserire \".concat(this.state.currentWaifu.name, \" Evviva le Waifu!\")).then(() => waifuRepository.add(this.state.currentWaifu)).then(() => {\n          return waifuRepository.list();\n        }).then(waifuList => {\n          this.setState({\n            waifuList,\n            currentWaifu: {}\n          });\n        });\n      }\n    };\n\n    this.onDelete = id => {\n      waifuRepository.remove(id).then(() => {\n        return waifuRepository.list();\n      }).then(waifuList => {\n        this.setState({\n          waifuList\n        });\n      });\n    };\n\n    this.onChangeWaifuName = e => {\n      const currentWaifu = this.state.currentWaifu;\n      this.setState({\n        currentWaifu: _objectSpread({}, currentWaifu, {\n          name: e.target.value\n        })\n      });\n    };\n\n    this.onChangeWaifuImage = image => {\n      const currentWaifu = this.state.currentWaifu;\n      this.setState({\n        currentWaifu: _objectSpread({}, currentWaifu, {\n          image\n        })\n      });\n    };\n\n    this.state = {\n      waifuList: [],\n      currentWaifu: {\n        name: \"\",\n        image: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    waifuRepository.list().then(waifuList => {\n      this.setState({\n        waifuList\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          waifuList = _this$state.waifuList,\n          currentWaifu = _this$state.currentWaifu;\n    const cards = waifuList.map(waifu => {\n      return React.createElement(Waifu, {\n        onDelete: this.onDelete,\n        key: waifu.id,\n        waifu: waifu,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, cards, React.createElement(Form, {\n      submit: this.submit,\n      click: this.click,\n      value: currentWaifu.name,\n      changeImage: this.onChangeWaifuImage,\n      change: this.onChangeWaifuName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Tot;","map":{"version":3,"sources":["D:/Documenti/#Master/Project Straz/waifu/src/component/Tot.js"],"names":["React","Component","Waifu","Form","waifuRepository","speakApi","Tot","constructor","props","submit","e","preventDefault","state","currentWaifu","name","speak","then","add","list","waifuList","setState","onDelete","id","remove","onChangeWaifuName","target","value","onChangeWaifuImage","image","componentDidMount","render","cards","map","waifu","click"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Waifu from './Waifu';\r\nimport Form from './Form';\r\nimport waifuRepository from './waifuRepository';\r\nimport speakApi from './speakApi'\r\n\r\nclass Tot extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            waifuList: [],\r\n            currentWaifu: {\r\n                name: \"\",\r\n                image: \"\"\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        waifuRepository\r\n            .list()\r\n            .then(waifuList => { \r\n                this.setState({\r\n                    waifuList\r\n                })\r\n            })\r\n    }\r\n\r\n    submit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.currentWaifu.name) {\r\n\r\n            speakApi\r\n                .speak(`Stai per inserire ${this.state.currentWaifu.name} Evviva le Waifu!`)\r\n                .then(() => waifuRepository.add(this.state.currentWaifu))\r\n                .then(() => {\r\n                    return waifuRepository.list()\r\n                })\r\n                .then(waifuList => {\r\n                    this.setState({\r\n                        waifuList,\r\n                        currentWaifu: {}\r\n                    })\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    onDelete = (id) => {\r\n        waifuRepository\r\n            .remove(id)\r\n            .then(() => {\r\n                return waifuRepository.list()\r\n            })\r\n            .then(waifuList => {\r\n                this.setState({\r\n                    waifuList\r\n                })\r\n            })\r\n    }\r\n\r\n    onChangeWaifuName = (e) => {\r\n        const {\r\n            currentWaifu\r\n        } = this.state;\r\n        this.setState({\r\n            currentWaifu: {\r\n                ...currentWaifu,\r\n                name: e.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    onChangeWaifuImage = (image) => {\r\n        const {\r\n            currentWaifu\r\n        } = this.state;\r\n        this.setState({\r\n            currentWaifu: {\r\n                ...currentWaifu,\r\n                image\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            waifuList,\r\n            currentWaifu\r\n        } = this.state;\r\n\r\n        const cards = waifuList.map(waifu => {\r\n            return <Waifu\r\n                onDelete={this.onDelete}\r\n                key={waifu.id}\r\n                waifu={waifu} />\r\n        })\r\n\r\n        return (\r\n            <div>\r\n\r\n                {cards}\r\n                <Form\r\n                    submit={this.submit}\r\n                    click={this.click}\r\n                    value={currentWaifu.name}\r\n                    changeImage={this.onChangeWaifuImage}\r\n                    change={this.onChangeWaifuName}></Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Tot;"]},"metadata":{},"sourceType":"module"}